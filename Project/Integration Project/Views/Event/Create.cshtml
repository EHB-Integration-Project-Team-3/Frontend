@model Event

@{
    ViewData["Title"] = "Edit";
    Layout = "~/Areas/Admin/Views/Shared/_Layout_AdminPanel.cshtml";
}

<div class="row">
    <!-- list item image picker -->
    @using (Html.BeginForm("CreateEvent", "Event",null, FormMethod.Post, true, new {
        enctype = "multipart/form-data"
    })) {
        @Html.AntiForgeryToken();
        <div class="form-group">
            <label for="EventTitle">Title</label>
            <input type="text" name="Title" class="form-control" />
        </div>
        <div class="form-group">
            <div id="input-fields">
                @foreach (var lineItem in Model.KeyBenefit.LineItems) {
                    @Html.Raw($"<input type='text' value='{lineItem.Text}' class='form-control' name='lineItems' /><br/>")
                }
            </div>
        </div>
        <button class="btn btn-outline-secondary" id="btnAddField">Add line item</button>

        <button class="btn btn-outline-secondary">Save</button>

    }

    <div style="color:blue"><b>Data:</b> @ViewBag.Data</div>

    <script type="text/javascript">
        $(document).ready(function () {
            var $fields = $('#input-fields');
            $('#btnAddField').click(function (e) {
                e.preventDefault();
                $('<input type="text" class="form-control" name="lineItems" /><br/>').appendTo($fields);
            });
        });

        function show(input) {
            if (input.files && input.files[0]) {
                var filerdr = new FileReader();
                filerdr.onload = function (e) {
                    $('#user_img').attr('src', e.target.result);
                }
                filerdr.readAsDataURL(input.files[0]);
            }
        }
    </script>
</div>